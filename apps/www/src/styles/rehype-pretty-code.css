[data-theme="light"] {
  display: block;
}

[data-theme="dark"] {
  display: none;
}

.dark [data-theme="light"] {
  display: none;
}

.dark [data-theme="dark"] {
  display: block;
}

[data-rehype-pretty-code-fragment] {
  box-sizing: border-box;
  border-radius: var(--radius-4);
  /* padding: var(--space-4) var(--space-5); */
  margin: var(--space-5) 0;
  padding: var(--space-4) 0;
  overflow: auto;
  white-space: pre;
  position: relative;
  background-color: var(--background);
  color: var(--gray-12);
  box-shadow: var(--border);

  --border: inset 0 0 0 1px var(--accent-a1), inset 0 0 0 1px var(--gray-a5);
  /* --line-numbers: var(--gray-6); */
  --line-numbers: var(--gray-8);
  --faded-lines: var(--gray-a8);
  --removed: var(--red-11);
  --added: var(--green-11);
  --highlighted-line-bg: var(--accent-a3);
  --highlighted-word-1-bg: var(--accent-a3);
  --highlighted-word-1-bg-active: var(--accent-6);
  --highlighted-word-1-text: var(--accent-12);
  --highlighted-word-2-bg: var(--red-3);
  --highlighted-word-2-bg-active: var(--red-5);
  --highlighted-word-2-text: var(--red-11);
  --highlighted-word-3-bg: var(--green-3);
  --highlighted-word-3-bg-active: var(--green-5);
  --highlighted-word-3-text: var(--green-11);
}

/* color scheme â€” indigo */
[data-rehype-pretty-code-fragment] {
  --background: var(--accent-a2);
  --text: var(--gray-12);

  --syntax-accent: var(--indigo-11);
  --syntax-accent-subtle: var(--indigo-12);
  --syntax-complementary: var(--crimson-11);
  --syntax-secondary: var(--violet-11);

  --highlighted-line-bg: var(--indigo-a3);
  --highlighted-word-1-bg: var(--iris-a3);
}

[data-rehype-pretty-code-fragment] code {
  display: grid;
  min-width: 100%;
  border-width: 0;
  background-color: transparent;
  padding: 0;
  counter-reset: line;
  box-decoration-break: clone;

  /*  */

  font-size: calc(var(--font-size-2) * var(--code-font-size-adjust));
  font-family: var(--code-font-family);
  line-height: 22px;
  --letter-spacing: var(--letter-spacing-2);
}

[data-rehype-pretty-code-fragment] > code {
  display: block;
}

[data-rehype-pretty-code-fragment] [data-line] {
  display: inline-block;
  min-height: 22px;
  width: 100%;
  padding: 0 var(--space-5);

  /*
   * 1px margin on left and right sides of all lines
   * to keep non-highlighted and highlighted lines under same vertical alignment
   */
  width: calc(100% - 2px);
  margin: 0 1px;
}

[data-rehype-pretty-code-fragment] [data-line-numbers] [data-line] {
  padding-left: var(--space-5);
}

[data-rehype-pretty-code-fragment] [data-line-numbers] > [data-line]::before {
  color: var(--line-numbers);
  counter-increment: line;
  content: counter(line);
  display: inline-block;
  /* width: 1.8rem; */
  width: 1rem;
  margin-right: var(--space-5);
  text-align: right;
}

[data-rehype-pretty-code-fragment] [data-highlighted-line] {
  background-color: var(--highlighted-line-bg);
}

[data-rehype-pretty-code-fragment] [data-highlighted-line] span {
  position: relative;
}

[data-rehype-pretty-code-fragment] [data-highlighted-chars] {
  border: var(--border);
  border-radius: var(--radius-4);
  border-width: 1px;
  border-color: var(--border);
  background-color: var(--highlighted-word-1-bg);
  padding: var(--space-1);
}

[data-rehype-pretty-code-title] {
  margin-bottom: var(--space-3);
  padding-left: var(--space-5);
  font-size: calc(var(--font-size-3) * var(--code-font-size-adjust));
  font-weight: var(--font-weight-medium);
  /* color: var(--gray-a12); */
}

[data-rehype-pretty-code-caption] {
  margin-top: var(--space-3);
  padding-left: var(--space-5);
  font-size: calc(var(--font-size-2) * var(--code-font-size-adjust));
}
